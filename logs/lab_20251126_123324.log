2025-11-26 12:33:24 - commands.cleanup          - INFO - ==================================================
2025-11-26 12:33:24 - commands.cleanup          - INFO - Cleaning Up Lab Environment
2025-11-26 12:33:24 - commands.cleanup          - INFO - ==================================================
2025-11-26 12:33:24 - commands.cleanup          - INFO - Destroying ALL containers and templates...
2025-11-26 12:33:25 - paramiko.transport        - INFO - Connected (version 2.0, client OpenSSH_9.2p1)
2025-11-26 12:33:25 - paramiko.transport        - INFO - Authentication (publickey) successful!
2025-11-26 12:33:25 - services.ssh              - INFO - SSH connection established to root@10.11.3.4
2025-11-26 12:33:25 - commands.cleanup          - INFO - Stopping and destroying containers...
2025-11-26 12:33:25 - services.ssh              - INFO - Running: pct list 2>&1
2025-11-26 12:33:27 - services.ssh              - INFO - VMID       Status     Lock         Name                
3005       running                 swarm-manager       
3008       running                 docker-tmpl         
3017       running                 haproxy             
3018       running                 pgsql               
3019       running                 dns                 
3020       running                 apt-cache
2025-11-26 12:33:27 - commands.cleanup          - INFO - Found 6 containers to destroy: 3005, 3008, 3017, 3018, 3019, 3020
2025-11-26 12:33:27 - commands.cleanup          - INFO - [1/6] Processing container 3005...
2025-11-26 12:33:27 - services.ssh              - INFO - Running: pct list | grep '^3005 ' || echo 'not_found'
2025-11-26 12:33:29 - services.ssh              - INFO - 3005       running                 swarm-manager
2025-11-26 12:33:29 - libs.common               - INFO - Stopping and destroying container 3005...
2025-11-26 12:33:29 - services.ssh              - INFO - Running: pct stop 3005 2>/dev/null || true; sleep 2; pct destroy 3005 2>&1
2025-11-26 12:33:35 - services.ssh              - INFO - Running: pct list | grep '^3005 ' || echo 'not_found'
2025-11-26 12:33:37 - services.ssh              - INFO - not_found
2025-11-26 12:33:37 - libs.common               - INFO - Container 3005 destroyed
2025-11-26 12:33:37 - commands.cleanup          - INFO - [2/6] Processing container 3008...
2025-11-26 12:33:37 - services.ssh              - INFO - Running: pct list | grep '^3008 ' || echo 'not_found'
2025-11-26 12:33:38 - services.ssh              - INFO - 3008       running                 docker-tmpl
2025-11-26 12:33:38 - libs.common               - INFO - Stopping and destroying container 3008...
2025-11-26 12:33:38 - services.ssh              - INFO - Running: pct stop 3008 2>/dev/null || true; sleep 2; pct destroy 3008 2>&1
2025-11-26 12:33:45 - services.ssh              - INFO - Running: pct list | grep '^3008 ' || echo 'not_found'
2025-11-26 12:33:46 - services.ssh              - INFO - not_found
2025-11-26 12:33:46 - libs.common               - INFO - Container 3008 destroyed
2025-11-26 12:33:46 - commands.cleanup          - INFO - [3/6] Processing container 3017...
2025-11-26 12:33:46 - services.ssh              - INFO - Running: pct list | grep '^3017 ' || echo 'not_found'
2025-11-26 12:33:48 - services.ssh              - INFO - 3017       running                 haproxy
2025-11-26 12:33:48 - libs.common               - INFO - Stopping and destroying container 3017...
2025-11-26 12:33:48 - services.ssh              - INFO - Running: pct stop 3017 2>/dev/null || true; sleep 2; pct destroy 3017 2>&1
2025-11-26 12:33:54 - services.ssh              - INFO - Running: pct list | grep '^3017 ' || echo 'not_found'
2025-11-26 12:33:56 - services.ssh              - INFO - not_found
2025-11-26 12:33:56 - libs.common               - INFO - Container 3017 destroyed
2025-11-26 12:33:56 - commands.cleanup          - INFO - [4/6] Processing container 3018...
2025-11-26 12:33:56 - services.ssh              - INFO - Running: pct list | grep '^3018 ' || echo 'not_found'
2025-11-26 12:33:57 - services.ssh              - INFO - 3018       running                 pgsql
2025-11-26 12:33:57 - libs.common               - INFO - Stopping and destroying container 3018...
2025-11-26 12:33:57 - services.ssh              - INFO - Running: pct stop 3018 2>/dev/null || true; sleep 2; pct destroy 3018 2>&1
2025-11-26 12:34:04 - services.ssh              - INFO - Running: pct list | grep '^3018 ' || echo 'not_found'
2025-11-26 12:34:05 - services.ssh              - INFO - not_found
2025-11-26 12:34:05 - libs.common               - INFO - Container 3018 destroyed
2025-11-26 12:34:05 - commands.cleanup          - INFO - [5/6] Processing container 3019...
2025-11-26 12:34:05 - services.ssh              - INFO - Running: pct list | grep '^3019 ' || echo 'not_found'
2025-11-26 12:34:06 - services.ssh              - INFO - 3019       running                 dns
2025-11-26 12:34:06 - libs.common               - INFO - Stopping and destroying container 3019...
2025-11-26 12:34:06 - services.ssh              - INFO - Running: pct stop 3019 2>/dev/null || true; sleep 2; pct destroy 3019 2>&1
2025-11-26 12:34:13 - services.ssh              - INFO - Running: pct list | grep '^3019 ' || echo 'not_found'
2025-11-26 12:34:14 - services.ssh              - INFO - not_found
2025-11-26 12:34:14 - libs.common               - INFO - Container 3019 destroyed
2025-11-26 12:34:14 - commands.cleanup          - INFO - [6/6] Processing container 3020...
2025-11-26 12:34:14 - services.ssh              - INFO - Running: pct list | grep '^3020 ' || echo 'not_found'
2025-11-26 12:34:16 - services.ssh              - INFO - 3020       running                 apt-cache
2025-11-26 12:34:16 - libs.common               - INFO - Stopping and destroying container 3020...
2025-11-26 12:34:16 - services.ssh              - INFO - Running: pct stop 3020 2>/dev/null || true; sleep 2; pct destroy 3020 2>&1
2025-11-26 12:34:22 - services.ssh              - INFO - Running: pct list | grep '^3020 ' || echo 'not_found'
2025-11-26 12:34:24 - services.ssh              - INFO - not_found
2025-11-26 12:34:24 - libs.common               - INFO - Container 3020 destroyed
2025-11-26 12:34:24 - commands.cleanup          - INFO - Verifying all containers are destroyed...
2025-11-26 12:34:24 - services.ssh              - INFO - Running: pct list 2>&1
2025-11-26 12:34:25 - commands.cleanup          - INFO - All containers destroyed
2025-11-26 12:34:25 - commands.cleanup          - INFO - Removing templates...
2025-11-26 12:34:25 - commands.cleanup          - INFO - Cleaning template directory /var/lib/vz/template/cache...
2025-11-26 12:34:25 - services.ssh              - INFO - Running: find /var/lib/vz/template/cache -maxdepth 1 -type f -name '*.tar.zst' -print | wc -l
2025-11-26 12:34:25 - services.ssh              - INFO - 2
2025-11-26 12:34:25 - commands.cleanup          - INFO - Removing 2 template files...
2025-11-26 12:34:25 - services.ssh              - INFO - Running: find /var/lib/vz/template/cache -maxdepth 1 -type f -name '*.tar.zst' -delete || true
2025-11-26 12:34:25 - commands.cleanup          - INFO - Templates removed
